var map;var Config={zoom:6,lat:40.40594,lng:-3.636249,map_canvas:"map-canvas",street_canvas:"street-canvas"};var MapOptions={zoom:Config.zoom,center:new google.maps.LatLng(Config.lat,Config.lng),mapTypeId:google.maps.MapTypeId.ROADMAP};var PanoramaOptions={position:MapOptions.center,pov:{heading:34,pitch:10,zoom:1}};var ActualPos={lat:40.405392,lng:-3.63729};function set_zoom(a){Config.zoom=a}function set_map_center(c,a,b){Config.lat=c;Config.lng=a;Config.zoom=b;MapOptions.zoom=Config.zoom;MapOptions.center=new google.maps.LatLng(Config.lat,Config.lng)}function set_sw_position(c,b,a){PanoramaOptions.pov.heading=c;PanoramaOptions.pov.pitch=b;PanoramaOptions.pov.zoom=a}function set_map_canvas(a){Config.map_canvas=a}function initialize_gmap(){map=new google.maps.Map(document.getElementById(Config.map_canvas),MapOptions)}function set_marker(c){var a=new google.maps.Marker({position:new google.maps.LatLng(c.lat,c.lng),map:map,draggable:c.draggable});if(c.html!==undefined){var b=new google.maps.InfoWindow({content:c.html,maxWidth:200});google.maps.event.addListener(a,"click",function(){b.open(map,a)})}}function find_address(a){geocoder=new google.maps.Geocoder();geocoder.geocode({address:a},function(c,b){if(b==google.maps.GeocoderStatus.OK){if(b!=google.maps.GeocoderStatus.ZERO_RESULTS){if(c&&c[0]&&c[0].geometry&&c[0].geometry.viewport){initialize_gmap();map.fitBounds(c[0].geometry.viewport);var d={lat:c[0].geometry.location.lat(),lng:c[0].geometry.location.lng(),html:a,title:a,draggable:true};ActualPos.lat=d.lat;ActualPos.lng=d.lng;set_marker(d)}}else{return false}}else{return false}});return true}function find_address_sw(a){geocoder=new google.maps.Geocoder();geocoder.geocode({address:a},function(d,c){if(c==google.maps.GeocoderStatus.OK){if(c!=google.maps.GeocoderStatus.ZERO_RESULTS){if(d&&d[0]&&d[0].geometry&&d[0].geometry.viewport){set_map_center(d[0].geometry.location.lat(),d[0].geometry.location.lng(),16);initialize_gmap();show_streetview();var f={lat:d[0].geometry.location.lat(),lng:d[0].geometry.location.lng(),html:a,title:a,draggable:true};ActualPos.lat=f.lat;ActualPos.lng=f.lng;set_marker(f);var e=document.getElementById("lat-input");var b=document.getElementById("lng-input");e.value=f.lat;b.value=f.lng}}else{return false}}else{return false}});return true}function show_streetview_ren(){PanoramaOptions.position=new google.maps.LatLng(Config.lat,Config.lng);var a=new google.maps.StreetViewPanorama(document.getElementById(Config.street_canvas),PanoramaOptions);map.setStreetView(a)}function show_streetview(){PanoramaOptions.position=new google.maps.LatLng(Config.lat,Config.lng);var a=new google.maps.StreetViewPanorama(document.getElementById(Config.street_canvas),PanoramaOptions);map.setStreetView(a);google.maps.event.addListener(a,"pov_changed",function(){var c=document.getElementById("heading-input");var b=document.getElementById("pitch-input");c.value=a.getPov().heading;b.value=a.getPov().pitch});google.maps.event.addListener(a,"position_changed",function(){var c=document.getElementById("lat-input");var b=document.getElementById("lng-input");c.value=a.getPosition().lat();b.value=a.getPosition().lng()})};