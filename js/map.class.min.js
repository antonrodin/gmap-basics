function Map(c,a,b){this.map=null;this.panorama=null;this.historicalOverlay=null;this.lat=c;this.lng=a;this.zoom=b;this.latId="lat-id";this.lngId="lng-id";this.headingId="heading-id";this.pitchId="pitch-id";this.MapOptions={zoom:b,center:new google.maps.LatLng(c,a),mapTypeId:google.maps.MapTypeId.ROADMAP};this.PanoramaOptions={position:this.MapOptions.center,pov:{heading:34,pitch:10,zoom:1}};this.init=function(d){this.map=new google.maps.Map(document.getElementById(d),this.MapOptions)};this.changeType=function(d){if(d==="default"){this.map.setMapTypeId(google.maps.MapTypeId.ROADMAP)}if(d==="satellite"){this.map.setMapTypeId(google.maps.MapTypeId.SATELLITE)}if(d==="hybrid"){this.map.setMapTypeId(google.maps.MapTypeId.HYBRID)}if(d==="terrain"){this.map.setMapTypeId(google.maps.MapTypeId.TERRAIN)}};this.addMarker=function(f){var d=this;d.historicalOverlay=new google.maps.Marker({position:new google.maps.LatLng(f.lat,f.lng),map:d.map,draggable:f.draggable});if(f.html!==undefined){var e=new google.maps.InfoWindow({content:f.html,maxWidth:200});google.maps.event.addListener(d.historicalOverlay,"click",function(){e.open(d.map,d.historicalOverlay)})}if(f.draggable==true){google.maps.event.addListener(d.historicalOverlay,"drag",function(){document.getElementById(d.latId).value=d.historicalOverlay.getPosition().lat();document.getElementById(d.lngId).value=d.historicalOverlay.getPosition().lng()})}};this.findAddress=function(d){var e=this;if(e.historicalOverlay!==null){e.historicalOverlay.setMap(null)}geocoder=new google.maps.Geocoder();geocoder.geocode({address:d},function(g,f){if(f==google.maps.GeocoderStatus.OK){if(f!=google.maps.GeocoderStatus.ZERO_RESULTS){if(g&&g[0]&&g[0].geometry&&g[0].geometry.viewport){e.map.fitBounds(g[0].geometry.viewport);data={lat:g[0].geometry.location.lat(),lng:g[0].geometry.location.lng(),html:d,title:d,draggable:true};e.addMarker(data);if(e.panorama!==null){e.panorama.setPosition(g[0].geometry.location)}document.getElementById(e.latId).value=data.lat;document.getElementById(e.lngId).value=data.lng}}else{return false}}else{return false}})};this.setSvPosition=function(h,e,g,f){var d=this;d.PanoramaOptions.position=new google.maps.LatLng(h,e);d.PanoramaOptions.pov.heading=g;d.PanoramaOptions.pov.pitch=f;d.PanoramaOptions.pov.zoom=1};this.initSV=function(e){var d=this;d.panorama=new google.maps.StreetViewPanorama(document.getElementById(e),d.PanoramaOptions);d.map.setStreetView(d.panorama)};this.initSVAdvanced=function(e){var d=this;d.panorama=new google.maps.StreetViewPanorama(document.getElementById(e),this.PanoramaOptions);d.map.setStreetView(d.panorama);google.maps.event.addListener(d.panorama,"pov_changed",function(){document.getElementById(d.headingId).value=d.panorama.getPov().heading;document.getElementById(d.pitchId).value=d.panorama.getPov().pitch});google.maps.event.addListener(d.panorama,"position_changed",function(){document.getElementById(d.latId).value=d.panorama.getPosition().lat();document.getElementById(d.lngId).value=d.panorama.getPosition().lng()})}};